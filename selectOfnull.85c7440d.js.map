{"version":3,"sources":["select/select.js","index.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$e","document","querySelector","event","type","target","dataset","toggle","select","close","$value","textContent","current","querySelectorAll","forEach","el","classList","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickHandler","innerHTML","contains","find","bind","addEventListener","console","log","window","mySelector"],"mappings":"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","file":"selectOfnull.85c7440d.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\r\n  let text = placeholder ?? \"Developers languages\";\r\n\r\n  const items = data.map((item) => {\r\n    let cls = \"\";\r\n    if (item.id === selectedId) {\r\n      text = item.value;\r\n      cls = \"selected\";\r\n    }\r\n    return `\r\n    <li class=\"select__item ${cls}\" \r\n    data-type=\"item\" \r\n    data-id=\"${item.id}\">\r\n    ${item.value}\r\n    </li>\r\n    `;\r\n  });\r\n\r\n  return `\r\n  <div class=\"select__backdrop\" data-type=\"backdrop\"></div>\r\n  <div class=\"select__input\" data-type=\"input\">\r\n    <span data-type=\"value\" data-id=\"value\">${text}</span>\r\n    <i class=\"fa fa-chevron-down\" data-type=\"arrow\" data-id=\"arrow\"></i>\r\n  </div>\r\n  <div class=\"select__dropdown\">\r\n    <ul class=\"select__list\">\r\n      ${items.join(\"\")}\r\n    </ul>\r\n  </div>\r\n`;\r\n};\r\n\r\nexport class Select {\r\n  constructor(selector, options) {\r\n    this.$e = document.querySelector(selector);\r\n    this.options = options;\r\n    this.selectedId = options.selectedId;\r\n\r\n    this.#render();\r\n    this.#setup();\r\n  }\r\n\r\n  #render() {\r\n    const { placeholder, data } = this.options;\r\n    this.$e.classList.add(\"select\");\r\n    this.$e.innerHTML = getTemplate(data, placeholder, this.selectedId);\r\n  }\r\n\r\n  #setup() {\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.$e.addEventListener(\"click\", this.clickHandler);\r\n    this.$arrow = this.$e.querySelector('[data-id=\"arrow\"]');\r\n    this.$value = this.$e.querySelector('[data-id=\"value\"]');\r\n  }\r\n\r\n  clickHandler(event) {\r\n    const { type } = event.target.dataset;\r\n    if (type === \"input\") {\r\n      this.toggle();\r\n    } else if (type === \"value\") {\r\n      this.toggle();\r\n    } else if (type === \"arrow\") {\r\n      this.toggle();\r\n    } else if (type === \"item\") {\r\n      const id = event.target.dataset.id;\r\n      this.select(id);\r\n    } else if (type === \"backdrop\") {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$e.classList.contains(\"open\");\r\n  }\r\n\r\n  get current() {\r\n    return this.options.data.find((item) => item.id === this.selectedId);\r\n  }\r\n\r\n  select(id) {\r\n    this.selectedId = id;\r\n    this.$value.textContent = this.current.value;\r\n\r\n    this.$e.querySelectorAll('[data-type=\"item\"]').forEach((el) => {\r\n      el.classList.remove(\"selected\");\r\n    });\r\n\r\n    this.$e.querySelector(`[data-id=\"${id}\"]`).classList.add(\"selected\");\r\n\r\n    this.options.onSelect ? this.options.onSelect(this.current) : null;\r\n    this.close();\r\n  }\r\n\r\n  toggle() {\r\n    this.isOpen ? this.close() : this.open();\r\n  }\r\n\r\n  open() {\r\n    this.$e.classList.add(\"open\");\r\n    this.$arrow.classList.remove(\"fa-chevron-down\");\r\n    this.$arrow.classList.add(\"fa-chevron-up\");\r\n  }\r\n\r\n  close() {\r\n    this.$e.classList.remove(\"open\");\r\n    this.$arrow.classList.add(\"fa-chevron-down\");\r\n    this.$arrow.classList.remove(\"fa-chevron-up\");\r\n  }\r\n\r\n  destroy() {\r\n    this.$e.removeEventListener(\"click\", this.clickHandler);\r\n    this.$e.innerHTML = \"\";\r\n  }\r\n}\r\n","import { Select } from \"./select/select\";\r\n\r\nimport \"./select/style.scss\";\r\n\r\nconst select = new Select(\"#select\", {\r\n  placeholder: \"Выбери пожалуста элемент\",\r\n  selectedId: \"4\",\r\n  data: [\r\n    { id: \"1\", value: \"React\" },\r\n    { id: \"2\", value: \"Angular\" },\r\n    { id: \"3\", value: \"Vue\" },\r\n    { id: \"4\", value: \"React Native\" },\r\n    { id: \"5\", value: \"Nest\" },\r\n    { id: \"6\", value: \"Next\" },\r\n  ],\r\n  onSelect(item) {\r\n    console.log(\"Selected item\", item);\r\n  },\r\n});\r\n\r\nwindow.mySelector = select;\r\n"]}